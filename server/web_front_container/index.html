<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <title>GG Store</title>
</head>
<body>

    <div class="overlay1" id="overlay"></div>

    <nav>
        <div class="logo-container">
            <a class="logo">GG Store</a>
        </div>
    </nav>

    <h2 class="separator">
        Аренда аккаунтов
    </h2>

    <section class="games-list">
        <div class="item" onclick="javascript:ZeldaPopupShow()">
            <img src="src/Pack 1.jpg">
            <div class="info">
                Zelda + Mario
            </div>
            <div class="price">
                500 ₽
            </div>
        </div>

        <div class="item" onclick="javascript:WitcherPopupShow()">
            <img src="src/Pack_2.jpg">
            <div class="info">
                Witcher 3
            </div>
            <div class="price">
                400 ₽
            </div>
        </div>

        <div class="item" onclick="javascript:Top10PopupShow()">
            <img src="src/Pack_3.jpg">
            <div class="info">
                Top 10 Games
            </div>
            <div class="price">
                600 ₽
            </div>
        </div>        
    </section>


    <h2 class="separator">
        Подписки
    </h2>
    

    <div class="code" onclick="javascript:NOnlinePopupShow()">
        <img src="src/Nonline.png">
        <div class="info">
            Nintendo Online
        </div>
    </div>

    <div class="code" onclick="javascript:psplusPopupShow()">
        <img src="src/psplus.jpg">
        <div class="info">
            Paystation Plus
        </div>
    </div>    

    <h2 class="separator">
        Коды оплаты
    </h2>

    <div class="code" onclick="javascript:EshopPopupShow()">
        <img src="src/eshop.jpg">
        <div class="info">
            eShop
        </div>
    </div>

    <div class="code" onclick="javascript:psnPopupShow()">
        <img src="src/psn.jpeg">
        <div class="info">
            PSN
        </div>
    </div>  

    <div class="code" onclick="javascript:SteamPopupShow()">
        <img src="src/steam.jpg">
        <div class="info">
            Steam
        </div>
    </div>  

    # всплывающее окно Playstation Store

    <div class="popupWindowWrapper" id="popupPSN">
        <p>
            <div class="popupWindow">
                <button class="closebutton" onclick="javascript:psnPopupHide()"></button>
                <img src="src/psn.jpeg">
                <h2>Пополнение аккаунта PSN</h2>

                <div class="description">
                    <label for="name">Карта пополнения для покупок в магазине Playstation Store</label>
                </div>

                <input type="radio" id="5dollar" name="paycode_PSN" value="5dollar" />
                <label class="radio-wrapper" for="5dollar">5$</label>

                <input type="radio" id="10dollar" name="paycode_PSN" value="10dollar" />
                <label class="radio-wrapper" for="10dollar">10$</label>

                <input type="radio" id="50dollar" name="paycode_PSN" value="50dollar" />
                <label class="radio-wrapper" for="50dollar">50$</label>

                <button class="form-control2" type="submit" id="PNSBUY">КУПИТЬ</button>
        </div>
        </p>
    </div>

    # всплывающее окно Playstation Plus

    <div class="popupWindowWrapper" id="popupPSPLUS">
        <p>
            <div class="popupWindow">
                <button class="closebutton" onclick="javascript:psplusPopupHide()"></button>
                <img src="src/psplus.jpg">
                <h2>PS Plus Premium</h2>

                <div class="description">
                    <label for="name">Расширенная подписка для PlayStation. В неё входит всё, что есть в PS Plus Essential, а ещё она откроет каталог с сотнями консольных хитов (будто Game Pass от Xbox).</label>
                </div>

                <input type="radio" id="1month_psplus" name="subscription_psplus" value="1month" />
                <label class="radio-wrapper" for="1month_psplus">1 месяц</label>

                <input type="radio" id="3month_psplus" name="subscription_psplus" value="3month" />
                <label class="radio-wrapper" for="3month_psplus">3 месяца</label>

                <input type="radio" id="12month_psplus" name="subscription_psplus" value="12month" />
                <label class="radio-wrapper" for="12month_psplus">12 месяцев</label>

                <button class="form-control2" type="submit" id="PSPLUSBUY">КУПИТЬ</button>
        </div>
        </p>
    </div>

    # всплывающее окно Nintendo Online

    <div class="popupWindowWrapper" id="popupNOnline">
        <p>
            <div class="popupWindow">
                <button class="closebutton" onclick="javascript:NOnlinePopupHide()"></button>
                <img src="src/Nonline.png">
                <h2>Nintendo Online</h2>

                <div class="description">
                    <label for="name">Позволяет играть в мультиплеерные эксклюзивы Nintendo, а ещё она откроет каталог с сотнями ретро игр со старых консолей Nintendo.</label>
                </div>

                <input type="radio" id="1month_nonlie" name="subscription_nonline" value="1month" />
                <label class="radio-wrapper" for="1month_nonlie">1 месяц</label>

                <input type="radio" id="3month_nonlie" name="subscription_nonline" value="3month" />
                <label class="radio-wrapper" for="3month_nonlie">3 месяца</label>

                <input type="radio" id="12month_nonlie" name="subscription_nonline" value="12month" />
                <label class="radio-wrapper" for="12month_nonlie">12 месяцев</label>

                <button class="form-control2" type="submit" id="NONLINEBUY">КУПИТЬ</button>
        </div>
        </p>
    </div>

    # всплывающее окно Nintendo eShop

    <div class="popupWindowWrapper" id="popupEshop">
        <p>
            <div class="popupWindow">
                <button class="closebutton" onclick="javascript:EshopPopupHide()"></button>
                <img src="src/eshop.jpg">
                <h2>Nintendo eShop</h2>

                <div class="description">
                    <label for="name">Карта пополнения для покупок в магазине Playstation Store</label>
                </div>

                <input type="radio" id="5dollar_eshop" name="paycode_eshop" value="5dollar" />
                <label class="radio-wrapper" for="5dollar_eshop">5$</label>

                <input type="radio" id="10dollar_eshop" name="paycode_eshop" value="10dollar" />
                <label class="radio-wrapper" for="10dollar_eshop">10$</label>

                <input type="radio" id="50dollar_eshop" name="paycode_eshop" value="50dollar" />
                <label class="radio-wrapper" for="50dollar_eshop">50$</label>

                <button class="form-control2" type="submit" id="eShopBUY">КУПИТЬ</button>
        </div>
        </p>
    </div>

    # всплывающее окно Steam

    <div class="popupWindowWrapper" id="popupSteam">
        <p>
            <div class="popupWindow">
                <button class="closebutton" onclick="javascript:SteamPopupHide()"></button>
                <img src="src/steam.jpg">
                <h2>Пополнение аккаунта Steam</h2>

                <div class="description">
                    <label for="name">Пополнение казахстанского аккаунта Steam</label>
                </div>

                <input type="radio" id="5dollar_steam" name="paycode_steam" value="5dollar" />
                <label class="radio-wrapper" for="5dollar_steam">5$</label>

                <input type="radio" id="10dollar_steam" name="paycode_steam" value="10dollar" />
                <label class="radio-wrapper" for="10dollar_steam">10$</label>

                <input type="radio" id="50dollar_steam" name="paycode_steam" value="50dollar" />
                <label class="radio-wrapper" for="50dollar_steam">50$</label>

                <button class="form-control2" type="submit" id="STEAMBUY">КУПИТЬ</button>
        </div>
        </p>
    </div>

    # всплывающее окно Top 10 games

    <div class="popupWindowWrapper" id="popupTop10">
        <p>
            <div class="popupWindow">
                <button class="closebutton" onclick="javascript:Top10PopupHide()"></button>
                <img src="src/Pack_3.jpg">
                <h2>Топ 10 игр на Nintendo Switch</h2>

                <div class="description">
                    <label for="name">10 самых популярных игр Nintendo Switch. Только отборные эксплюзивы и ААА проекты.</label>
                </div>

                <input type="radio" id="2week_Top10" name="Top10_rent" value="2week" />
                <label class="radio-wrapper" for="2week_Top10">Две недели</label>

                <input type="radio" id="1month_Top10" name="Top10_rent" value="1moth" />
                <label class="radio-wrapper" for="1month_Top10">Месяц</label>

                <input type="radio" id="2month_Top10" name="Top10_rent" value="2month" />
                <label class="radio-wrapper" for="2month_Top10">Два месяца</label>

                <button class="form-control2" type="rent" id="TOP10RENT">АРЕНДОВАТЬ</button>
        </div>
        </p>
    </div>

    # всплывающее окно Zelda

    <div class="popupWindowWrapper" id="popupZelda">
        <p>
            <div class="popupWindow">
                <button class="closebutton" onclick="javascript:ZeldaPopupHide()"></button>
                <img src="src/Pack 1.jpg">
                <h2>Zelda Tears of the Kingdom + Mario 3D World</h2>

                <div class="description">
                    <label for="name">Два отличных эксклюзива в одной подписке.</label>
                </div>

                <input type="radio" id="2week_ZeldaMario" name="ZeldaMario_rent" value="2week" />
                <label class="radio-wrapper" for="2week_ZeldaMario">Две недели</label>

                <input type="radio" id="1month_ZeldaMario" name="ZeldaMario_rent" value="1moth" />
                <label class="radio-wrapper" for="1month_ZeldaMario">Месяц</label>

                <input type="radio" id="2month_ZeldaMario" name="ZeldaMario_rent" value="2month" />
                <label class="radio-wrapper" for="2month_ZeldaMario">Два месяца</label>

                <button class="form-control2" type="rent" id="ZELDAMARIORENT">АРЕНДОВАТЬ</button>
        </div>
        </p>
    </div>

    # всплывающее окно Withcer

    <div class="popupWindowWrapper" id="popupWitcher">
        <p>
            <div class="popupWindow">
                <button class="closebutton" onclick="javascript:WitcherPopupHide()"></button>
                <img src="src/Pack_2.jpg">
                <h2>Witcher 3 Wild Hunt</h2>

                <div class="description">
                    <label for="name">Лучшая игра тысячелетия + два дополнения</label>
                </div>

                <input type="radio" id="2week_Witcher" name="Witcher_rent" value="2week" />
                <label class="radio-wrapper" for="2week_Witcher">Две недели</label>

                <input type="radio" id="1month_Witcher" name="Witcher_rent" value="1moth" />
                <label class="radio-wrapper" for="1month_Witcher">Месяц</label>

                <input type="radio" id="2month_Witcher" name="Witcher_rent" value="2month" />
                <label class="radio-wrapper" for="2month_Witcher">Два месяца</label>

                <button class="form-control2" type="rent" id="WITCHERRENT">АРЕНДОВАТЬ</button>
        </div>
        </p>
    </div>



    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <script>
        let tg = window.Telegram.WebApp; //получаем объект webapp телеграма 

        tg.expand(); //расширяем на все окно

        PSNBuyButton = document.getElementById("PNSBUY");
        PSNBuyButton.addEventListener('click', function(){

        const buttons = document.querySelectorAll('input[name="paycode_PSN"]');
        const selectedButton = Array.from(buttons).find(button => button.checked);
        const selectedValue = selectedButton.value;
        
        $.ajax({
            url: 'http://37.193.60.52:9999/request',
            method: 'POST',
            contentType: 'application/json',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            data: JSON.stringify({
                type: 'buy',
                length: selectedValue,
                product: 'PSN paycode' + selectedValue,
                user_id: tg.initDataUnsafe.user.id,
            }),
            success: function(response) {
                console.log(response);
            },
            error: function(error) {
                console.log(error);
            },
            complete: function() {
                tg.close();
            }
        });
        });

        

        psPlusBuyButton = document.getElementById("PSPLUSBUY");
        psPlusBuyButton.addEventListener('click', function(){

        const buttons = document.querySelectorAll('input[name="subscription_psplus"]');
        const selectedButton = Array.from(buttons).find(button => button.checked);
        const selectedValue = selectedButton.value;
        
        $.ajax({
            url: 'http://37.193.60.52:9999/request',
            method: 'POST',
            contentType: 'application/json',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            data: JSON.stringify({
                type: 'buy',
                length: selectedValue,
                product: 'PSPus subscription ' + selectedValue,
                user_id: tg.initDataUnsafe.user.id,
            }),
            success: function(response) {
                console.log(response);
            },
            error: function(error) {
                console.log(error);
            },
            complete: function() {
                tg.close();
            }
        });
        });


        nonlineBuyButton = document.getElementById("NONLINEBUY");
        nonlineBuyButton.addEventListener('click', function(){

        const buttons = document.querySelectorAll('input[name="subscription_nonline"]');
        const selectedButton = Array.from(buttons).find(button => button.checked);
        const selectedValue = selectedButton.value;
        
        $.ajax({
            url: 'http://37.193.60.52:9999/request',
            method: 'POST',
            contentType: 'application/json',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            data: JSON.stringify({
                type: 'buy',
                length: selectedValue,
                product: 'NONLINE subscription ' + selectedValue,
                user_id: tg.initDataUnsafe.user.id,
            }),
            success: function(response) {
                console.log(response);
            },
            error: function(error) {
                console.log(error);
            },
            complete: function() {
                tg.close();
            }
        });
        });



        eShopBuyButton = document.getElementById("eShopBUY");
        eShopBuyButton.addEventListener('click', function(){

        const buttons = document.querySelectorAll('input[name="paycode_eshop"]');
        const selectedButton = Array.from(buttons).find(button => button.checked);
        const selectedValue = selectedButton.value;
        
        $.ajax({
            url: 'http://37.193.60.52:9999/request',
            method: 'POST',
            contentType: 'application/json',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            data: JSON.stringify({
                type: 'buy',
                length: selectedValue,
                product: 'eShop paycode ' + selectedValue,
                user_id: tg.initDataUnsafe.user.id,
            }),
            success: function(response) {
                console.log(response);
            },
            error: function(error) {
                console.log(error);
            },
            complete: function() {
                tg.close();
            }
        });
        });



        SteampBuyButton = document.getElementById("STEAMBUY");
        SteampBuyButton.addEventListener('click', function(){

        const buttons = document.querySelectorAll('input[name="paycode_steam"]');
        const selectedButton = Array.from(buttons).find(button => button.checked);
        const selectedValue = selectedButton.value;
        
        $.ajax({
            url: 'http://37.193.60.52:9999/request',
            method: 'POST',
            contentType: 'application/json',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            data: JSON.stringify({
                type: 'buy',
                length: selectedValue,
                product: 'Steam paycode ' + selectedValue,
                user_id: tg.initDataUnsafe.user.id,
            }),
            success: function(response) {
                console.log(response);
            },
            error: function(error) {
                console.log(error);
            },
            complete: function() {
                tg.close();
            }
        });
        });


        Top10rentButton = document.getElementById("TOP10RENT");
        Top10rentButton.addEventListener('click', function(){

        const buttons = document.querySelectorAll('input[name="rent_top10"]');
        const selectedButton = Array.from(buttons).find(button => button.checked);
        const selectedValue = selectedButton.value;
        
        $.ajax({
            url: 'http://37.193.60.52:9999/request',
            method: 'POST',
            contentType: 'application/json',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            data: JSON.stringify({
                type: 'rent',
                length: selectedValue,
                product: 'rent_top10 ' + selectedValue,
                user_id: tg.initDataUnsafe.user.id,
            }),
            success: function(response) {
                console.log(response);
            },
            error: function(error) {
                console.log(error);
            },
            complete: function() {
                tg.close();
            }
        });
        });


        ZeldaMariorentButton = document.getElementById("ZELDAMARIORENT");
        ZeldaMariorentButton.addEventListener('click', function(){

        const buttons = document.querySelectorAll('input[name="ZeldaMario_rent"]');
        const selectedButton = Array.from(buttons).find(button => button.checked);
        const selectedValue = selectedButton.value;
        
        $.ajax({
            url: 'http://37.193.60.52:9999/request',
            method: 'POST',
            contentType: 'application/json',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            data: JSON.stringify({
                type: 'rent',
                length: selectedValue,
                product: 'ZeldaMario_rent ' + selectedValue,
                user_id: tg.initDataUnsafe.user.id,
            }),
            success: function(response) {
                console.log(response);
            },
            error: function(error) {
                console.log(error);
            },
            complete: function() {
                tg.close();
            }
        });
        });


        WitcherrentButton = document.getElementById("WITCHERRENT");
        WitcherrentButton.addEventListener('click', function(){

        const buttons = document.querySelectorAll('input[name="Witcher_rent"]');
        const selectedButton = Array.from(buttons).find(button => button.checked);
        const selectedValue = selectedButton.value;
        
        $.ajax({
            url: 'http://37.193.60.52:9999/request',
            method: 'POST',
            contentType: 'application/json',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            data: JSON.stringify({
                type: 'rent',
                length: selectedValue,
                product: 'Witcher_rent ' + selectedValue,
                user_id: tg.initDataUnsafe.user.id,
            }),
            success: function(response) {
                console.log(response);
            },
            error: function(error) {
                console.log(error);
            },
            complete: function() {
                tg.close();
            }
        });
        });

    </script>

    <script src="http://code.jquery.com/jquery-2.0.2.min.js"></script>
    <script>
    $(document).ready(function(){   
        psnPopupHide();
        psplusPopupHide();
        NOnlinePopupHide();
        EshopPopupHide();
        SteamPopupHide();
        Top10PopupHide();
        ZeldaPopupHide();
        WitcherPopupHide();
        function hasTouch() {
    return 'ontouchstart' in document.documentElement
            || navigator.maxTouchPoints > 0
            || navigator.msMaxTouchPoints > 0;
    }

    if (hasTouch()) {
    try {
        for (var si in document.styleSheets) {
        var styleSheet = document.styleSheets[si];
        if (!styleSheet.rules) continue;

        for (var ri = styleSheet.rules.length - 1; ri >= 0; ri--) {
            if (!styleSheet.rules[ri].selectorText) continue;

            if (styleSheet.rules[ri].selectorText.match(':hover')) {
            styleSheet.deleteRule(ri);
            }
        }
        }
    } catch (ex) {}
    }
            });
            function psplusPopupShow(){
                $("#popupPSPLUS").show();
                $("#overlay").show();
            }
            function psplusPopupHide(){
                $("#popupPSPLUS").hide();
                $("#overlay").hide();
            }

            function psnPopupShow(){
                $("#popupPSN").show();
                $("#overlay").show();
            }
            function psnPopupHide(){
                $("#popupPSN").hide();
                $("#overlay").hide();
            }

            function NOnlinePopupShow(){
                $("#popupNOnline").show();
                $("#overlay").show();
            }
            function NOnlinePopupHide(){
                $("#popupNOnline").hide();
                $("#overlay").hide();
            }

            function EshopPopupShow(){
                $("#popupEshop").show();
                $("#overlay").show();
            }
            function EshopPopupHide(){
                $("#popupEshop").hide();
                $("#overlay").hide();
            }

            function SteamPopupShow(){
                $("#popupSteam").show();
                $("#overlay").show();
            }
            function SteamPopupHide(){
                $("#popupSteam").hide();
                $("#overlay").hide();
            }

            function Top10PopupShow(){
                $("#popupTop10").show();
                $("#overlay").show();
            }
            function Top10PopupHide(){
                $("#popupTop10").hide();
                $("#overlay").hide();
            }

            function ZeldaPopupShow(){
                $("#popupZelda").show();
                $("#overlay").show();
            }
            function ZeldaPopupHide(){
                $("#popupZelda").hide();
                $("#overlay").hide();
            }

            function WitcherPopupShow(){
                $("#popupWitcher").show();
                $("#overlay").show();
            }
            function WitcherPopupHide(){
                $("#popupWitcher").hide();
                $("#overlay").hide();
            }
    </script>


</body>
</html>